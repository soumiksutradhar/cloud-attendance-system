{% extends "layout.html" %}

{% block title %}Set Attendance Window{% endblock %}

{% block content %}
  <h2>Set Attendance Window for Today</h2>

  <form method="POST">
    {{ form.hidden_tag() }}

    <div>
      {{ form.start_time.label }}<br>
      {{ form.start_time(class="form-control") }}
      {% if form.start_time.errors %}
        <ul class="errors">
          {% for error in form.start_time.errors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>

    <div>
      {{ form.end_time.label }}<br>
      {{ form.end_time(class="form-control") }}
      {% if form.end_time.errors %}
        <ul class="errors">
          {% for error in form.end_time.errors %}
            <li>{{ error }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    </div>

    <button type="submit">Set Window</button>
  </form>

  {% if window %}
    <p><strong>Current window:</strong> {{ window.start_time.strftime('%H:%M') }} to {{ window.end_time.strftime('%H:%M') }}</p>
  {% endif %}

  <p><a href="{{ url_for('auth.teacher_dashboard') }}">Back to Dashboard</a></p>
{% endblock %}
